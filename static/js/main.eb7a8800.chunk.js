(this["webpackJsonpcsv-test"]=this["webpackJsonpcsv-test"]||[]).push([[0],{17:function(e,t,n){e.exports={btnLoad:"parse_btnLoad__zwAtY",errorBlock:"parse_errorBlock__19EUx"}},27:function(e,t,n){e.exports={iconSpin:"Spinner_iconSpin__DshYl","icon-spin":"Spinner_icon-spin__3WqPZ"}},33:function(e,t,n){},34:function(e,t,n){},37:function(e,t){},39:function(e,t){},50:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(24),i=n.n(a),s=(n(33),n(34),n(6)),o=n(10),l=n(25),u=n(52),j=n(9),b=n.n(j),p=n(0);function d(e){var t=e.data,n=e.headers;function r(e,t){return("Phone"!==e||12===t[e].length&&"+1"===t[e].slice(0,2))&&(!("Email"===e&&!/^([a-z0-9_.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/.test(t[e]))&&(!("Age"===e&&(!Number.isInteger(Number(t[e]))||t[e]<21))&&(("Experience"!==e||!(t[e]<0||t[e]>t.Age))&&(!("Yearly Income"===e&&t[e]>1e6)&&(("Has children"!==e||"TRUE"===t[e]||"FALSE"===t[e]||""===t[e])&&(!!("License number"!==e||6===t[e].length&&/^[A-Za-z0-9]+$/.test(t[e]))&&("Expiration date"!==e||!function(e){if(e.includes("-")){var t=e.split("-");if(4===t[0].length)return c(t[0],t[1],t[2])}if(e.includes("/")){var n=e.split("/");if(4===n[2].length)return c(n[2],n[0],n[1])}return!0}(t[e]))))))))}function c(e,t,n){return t>12||t<1||n>31||n<1||!(new Date(e,t-1,n)-Date.now()>0)}return Object(p.jsx)("div",{className:b.a.wrapBlock,children:Object(p.jsxs)("table",{className:b.a.tableClients,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"ID"}),n.map((function(e,t){return Object(p.jsx)("th",{children:e},t)}))]})}),Object(p.jsx)("tbody",{children:t.map((function(e){var t=Object.keys(e);return Object(p.jsx)("tr",{children:t.map((function(t,n){return r(t,e)?Object(p.jsx)("td",{children:e[t]},n):Object(p.jsx)("td",{className:b.a.error,children:e[t]},n)}))},e.ID)}))})]})})}var h=n(28),f=n(27),m=n.n(f);function O(e){var t=e.classNames,n=void 0===t?"":t;return Object(p.jsx)(h.a,{className:"".concat(m.a.iconSpin," ").concat(n)})}var x=n(17),_=n.n(x),v="idle",g="pending",E="error",w="success";function N(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),i=Object(o.a)(a,2),j=i[0],b=i[1],h=Object(r.useState)(v),f=Object(o.a)(h,2),m=f[0],x=f[1],N=Object(r.useRef)(),D=function(e){N.current&&N.current.open(e)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(l.a,{ref:N,onFileLoad:function(e){x(g);var t=e.map((function(e){return e.data.map((function(e){return e.trim()}))}));t[0].push("Duplicate with"),b(t[0]);var n=t.map((function(e){return e.join(";")})).join("\n"),r=Object(u.a)(";").parse(n);if(r.reduce((function(e,t){return t["Full Name"]&&t.Phone&&t.Email||(e=!0),e}),!1))x(E);else{var a=r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Phone:(n=e.Phone,10===n.length?"+1"+n:11===n.length&&"1"===n.slice(0,1)?"+"+n:n),Email:e.Email.toLowerCase(),"Yearly Income":Number(e["Yearly Income"]).toFixed(2),"Has children":e["Has children"].toUpperCase(),"License states":(t=e["License states"],t.includes("|")?t.split("|").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.slice(0,2).toUpperCase())});var t,n})).map((function(e,t){return Object(s.a)(Object(s.a)({ID:t+1},e),{},{"Duplicate with":[]})}));a.forEach((function(e){var t=e.ID,n=e.Phone,r=e.Email;a.forEach((function(e){e.ID===t||e.Phone!==n&&e.Email!==r||(e["Duplicate with"]=t)}))})),c(a),x(w)}},onError:function(e,t,n,r){console.log(e,t,n,r)},children:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{type:"button",onClick:D,className:_.a.btnLoad,children:"Import users"})})}}),m===w&&Object(p.jsx)(d,{data:n,headers:j}),m===E&&Object(p.jsx)("div",{className:_.a.errorBlock,children:Object(p.jsx)("h1",{children:"File format is not correct"})}),m===g&&Object(p.jsx)(O,{})]})}var D=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(N,{})})};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={wrapBlock:"Table_wrapBlock__3m5Bg",tableClients:"Table_tableClients__250uo",error:"Table_error__4Mi-2"}}},[[50,1,2]]]);
//# sourceMappingURL=main.eb7a8800.chunk.js.map