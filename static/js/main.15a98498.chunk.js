(this["webpackJsonpcsv-test"]=this["webpackJsonpcsv-test"]||[]).push([[0],{16:function(e,t,n){e.exports={tableClients:"Table_tableClients__250uo",error:"Table_error__4Mi-2"}},17:function(e,t,n){e.exports={btnLoad:"parse_btnLoad__zwAtY",errorBlock:"parse_errorBlock__19EUx"}},27:function(e,t,n){e.exports={iconSpin:"Spinner_iconSpin__DshYl","icon-spin":"Spinner_icon-spin__3WqPZ"}},33:function(e,t,n){},34:function(e,t,n){},37:function(e,t){},39:function(e,t){},50:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(24),a=n.n(i),s=(n(33),n(34),n(6)),o=n(9),u=n(25),l=n(52),j=n(16),p=n.n(j),b=n(0);function d(e){var t=e.data,n=e.headers;function r(e,t){return("Phone"!==e||12===t[e].length&&"+1"===t[e].slice(0,2))&&(!("Email"===e&&!/^([a-z0-9_.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/.test(t[e]))&&(!("Age"===e&&(!Number.isInteger(Number(t[e]))||t[e]<21))&&(("Experience"!==e||!(t[e]<0||t[e]>t.Age))&&(!("Yearly Income"===e&&t[e]>1e6)&&(("Has children"!==e||"TRUE"===t[e]||"FALSE"===t[e]||""===t[e])&&(!!("License number"!==e||6===t[e].length&&/^[A-Za-z0-9]+$/.test(t[e]))&&("Expiration date"!==e||!function(e){if(e.includes("-")){var t=e.split("-");if(4===t[0].length)return c(t[0],t[1],t[2])}if(e.includes("/")){var n=e.split("/");if(4===n[2].length)return c(n[2],n[0],n[1])}return!0}(t[e]))))))))}function c(e,t,n){return t>12||t<1||n>31||n<1||!(new Date(e,t-1,n)-Date.now()>0)}return Object(b.jsxs)("table",{className:p.a.tableClients,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"ID"}),n.map((function(e,t){return Object(b.jsx)("th",{children:e},t)}))]})}),Object(b.jsx)("tbody",{children:t.map((function(e){var t=Object.keys(e);return Object(b.jsx)("tr",{children:t.map((function(t,n){return r(t,e)?Object(b.jsx)("td",{children:e[t]},n):Object(b.jsx)("td",{className:p.a.error,children:e[t]},n)}))},e.ID)}))})]})}var h=n(28),f=n(27),m=n.n(f);function O(e){var t=e.classNames,n=void 0===t?"":t;return Object(b.jsx)(h.a,{className:"".concat(m.a.iconSpin," ").concat(n)})}var x=n(17),v=n.n(x),_="idle",E="pending",g="error",D="success";function I(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),a=Object(o.a)(i,2),j=a[0],p=a[1],h=Object(r.useState)(_),f=Object(o.a)(h,2),m=f[0],x=f[1],I=Object(r.useRef)(),N=function(e){I.current&&I.current.open(e)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{ref:I,onFileLoad:function(e){x(E),e.shift();var t=e.map((function(e){return e.data.map((function(e){return e.trim()}))}));t[0].push("Duplicate with"),p(t[0]);var n=t.map((function(e){return e.join(";")})).join("\n"),r=Object(l.a)(";").parse(n);if(r.reduce((function(e,t){return t["Full Name"]&&t.Phone&&t.Email||(e=!0),e}),!1))x(g);else{var i=r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Phone:(n=e.Phone,10===n.length?"+1"+n:11===n.length&&"1"===n.slice(0,1)?"+"+n:n),Email:e.Email.toLowerCase(),"Yearly Income":Number(e["Yearly Income"]).toFixed(2),"Has children":e["Has children"].toUpperCase(),"License states":(t=e["License states"],t.includes(",")?t.split(",").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.includes("|")?t.split("|").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.includes(" ")?t.split(" ").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t)});var t,n})).map((function(e,t){return Object(s.a)(Object(s.a)({ID:t+1},e),{},{"Duplicate with":[]})}));i.forEach((function(e){var t=e.ID,n=e.Phone,r=e.Email;i.forEach((function(e){e.ID===t||e.Phone!==n&&e.Email!==r||(e["Duplicate with"]=t)}))})),c(i),x(D)}},onError:function(e,t,n,r){console.log(e,t,n,r)},children:function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{type:"button",onClick:N,className:v.a.btnLoad,children:"Import users"})})}}),m===D&&Object(b.jsx)(d,{data:n,headers:j}),m===g&&Object(b.jsx)("div",{className:v.a.errorBlock,children:Object(b.jsx)("h1",{children:"File format is not correct"})}),m===E&&Object(b.jsx)(O,{})]})}var N=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(I,{})})};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.15a98498.chunk.js.map