(this["webpackJsonpcsv-test"]=this["webpackJsonpcsv-test"]||[]).push([[0],{19:function(e,t,n){e.exports={btnLoad:"parse_btnLoad__zwAtY",errorBlock:"parse_errorBlock__19EUx"}},2:function(e,t,n){e.exports={wrapBlock:"Table_wrapBlock__3m5Bg",tableClients:"Table_tableClients__250uo",error:"Table_error__4Mi-2"}},30:function(e,t,n){e.exports={iconSpin:"Spinner_iconSpin__DshYl","icon-spin":"Spinner_icon-spin__3WqPZ"}},36:function(e,t,n){},37:function(e,t,n){},40:function(e,t){},42:function(e,t){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(26),o=n.n(a),i=(n(36),n(37),n(3)),s=n(12),u=n(27),l=n(56),b=n(11),d=n(29),j=n.n(d),f=n(8),h=n.n(f),p=n(2),x=n.n(p),m=n(0);function O(e){var t=e.data,n=e.headers,c=Object(r.useRef)(null);return Object(r.useEffect)((function(){if(c.current){var e=n.map((function(e){return e.includes(" ")?e.split(" ").join("."):e})).reduce((function(e,t){if("ID"===t||"Full.Name"===t||"License.states"===t||"Duplicate.with"===t)return e;var n=c.current.querySelectorAll(".".concat(t));return Object(i.a)(Object(i.a)({},e),{},Object(b.a)({},t,n))}),{});for(var t in e)r(t,e)}function r(e,t){var n=t[e];switch(e){case"Phone":n.forEach((function(e){12===e.textContent.length&&"+1"===e.textContent.slice(0,2)||e.classList.add(x.a.error)}));break;case"Email":n.forEach((function(e){/^([a-z0-9_.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/.test(e.textContent)||e.classList.add(x.a.error)}));break;case"Age":n.forEach((function(e){(!Number.isInteger(Number(e.textContent))||e.textContent<21)&&e.classList.add(x.a.error)}));break;case"Experience":n.forEach((function(e,n){(e.textContent<0||+e.textContent>+t.Age[n].textContent)&&e.classList.add(x.a.error)}));break;case"Yearly.Income":n.forEach((function(e){(isNaN(e.textContent)||e.textContent<0||e.textContent>1e6)&&e.classList.add(x.a.error)}));break;case"Has.children":n.forEach((function(e){"TRUE"!==e.textContent&&"FALSE"!==e.textContent&&""!==e.textContent&&e.classList.add(x.a.error)}));break;case"License.number":n.forEach((function(e){6===e.textContent.length&&/^[A-Za-z0-9]+$/.test(e.textContent)||e.classList.add(x.a.error)}));break;case"Expiration.date":n.forEach((function(e){(function(e){if(!e||!j()(e,"boolean"))return!0;if(e.includes("-"))return!(h()(e)-h()()>0);if(e.includes("/"))return!(h()(e,"MM/DD/YYYY")-h()()>0)})(e.textContent)&&e.classList.add(x.a.error)}))}}}),[n]),Object(m.jsx)("div",{className:x.a.wrapBlock,children:Object(m.jsxs)("table",{className:x.a.tableClients,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"ID"}),n.map((function(e,t){return Object(m.jsx)("th",{children:e},t)}))]})}),Object(m.jsx)("tbody",{ref:c,children:t.map((function(e){var t=Object.keys(e);return Object(m.jsx)("tr",{children:t.map((function(t,n){return Object(m.jsx)("td",{className:t,children:e[t]},n)}))},e.ID)}))})]})})}var C=n(31),E=n(30),v=n.n(E);function _(e){var t=e.classNames,n=void 0===t?"":t;return Object(m.jsx)(C.a,{className:"".concat(v.a.iconSpin," ").concat(n)})}var L=n(19),k=n.n(L),N="idle",g="pending",D="error",w="success";function I(){var e=Object(r.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),o=Object(s.a)(a,2),b=o[0],d=o[1],j=Object(r.useState)(N),f=Object(s.a)(j,2),h=f[0],p=f[1],x=Object(r.useRef)(),C=function(e){x.current&&x.current.open(e)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{ref:x,onFileLoad:function(e){p(g);var t=e.map((function(e){return e.data.map((function(e){return e.trim()}))}));t[0].push("Duplicate with"),d(t[0]);var n=t.map((function(e){return e.join(";")})).join("\n"),r=Object(l.a)(";").parse(n);if(r.reduce((function(e,t){return t["Full Name"]&&t.Phone&&t.Email||(e=!0),e}),!1))p(D);else{var a=r.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{Phone:(r=e.Phone,10===r.length?"+1"+r:11===r.length&&"1"===r.slice(0,1)?"+"+r:r),Email:e.Email.toLowerCase(),"Yearly Income":(n=e["Yearly Income"],Number(n)?Number(n).toFixed(2):n),"Has children":e["Has children"].toUpperCase(),"License states":(t=e["License states"],t.includes("|")?t.split("|").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.slice(0,2).toUpperCase())});var t,n,r})).map((function(e,t){return Object(i.a)(Object(i.a)({ID:t+1},e),{},{"Duplicate with":[]})}));a.forEach((function(e){var t=e.ID,n=e.Phone,r=e.Email;a.forEach((function(e){e.ID===t||e.Phone!==n&&e.Email!==r||(e["Duplicate with"]=t)}))})),c(a),p(w)}},onError:function(e,t,n,r){console.log(e,t,n,r)},children:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{type:"button",onClick:C,className:k.a.btnLoad,children:"Import users"})})}}),h===w&&Object(m.jsx)(O,{data:n,headers:b}),h===D&&Object(m.jsx)("div",{className:k.a.errorBlock,children:Object(m.jsx)("h1",{children:"File format is not correct"})}),h===g&&Object(m.jsx)(_,{})]})}var S=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(I,{})})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.704af2d5.chunk.js.map