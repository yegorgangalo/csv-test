(this["webpackJsonpcsv-test"]=this["webpackJsonpcsv-test"]||[]).push([[0],{16:function(e,t,n){e.exports={tableClients:"Table_tableClients__250uo",error:"Table_error__4Mi-2"}},30:function(e,t,n){},31:function(e,t,n){},34:function(e,t){},36:function(e,t){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(23),a=n.n(i),s=(n(30),n(31),n(6)),o=n(9),u=n(24),l=n(49),j=n(16),h=n.n(j),b=n(0);function d(e){var t=e.data,n=e.headers,r=function(e,t){return("Phone"!==e||12===t[e].length&&"+1"===t[e].slice(0,2))&&(!("Email"===e&&!/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/.test(t[e]))&&(!("Age"===e&&(!Number.isInteger(Number(t[e]))||t[e]<21))&&(("Experience"!==e||!(t[e]<0||t[e]>t.Age))&&(!("Yearly Income"===e&&t[e]>1e6)&&(("Has children"!==e||"TRUE"===t[e]||"FALSE"===t[e]||""===t[e])&&(!!("License number"!==e||6===t[e].length&&/^[A-Za-z0-9]+$/.test(t[e]))&&("Expiration date"!==e||!function(e){if(e.includes("-")){var t=e.split("-");if(4===t[0].length)return c(t[0],t[1],t[2])}if(e.includes("/")){var n=e.split("/");if(4===n[2].length)return c(n[2],n[0],n[1])}return!0}(t[e]))))))))};function c(e,t,n){return t>12||t<1||n>31||n<1||!(new Date(e,t-1,n)-Date.now()>0)}return Object(b.jsxs)("table",{className:h.a.tableClients,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"ID"}),n.map((function(e,t){return Object(b.jsx)("th",{children:e},t)}))]})}),Object(b.jsx)("tbody",{children:t.map((function(e){var t=Object.keys(e);return Object(b.jsx)("tr",{children:t.map((function(t,n){return r(t,e)?Object(b.jsx)("td",{children:e[t]},n):Object(b.jsx)("td",{className:h.a.error,children:e[t]},n)}))},e.ID)}))})]})}var p="idle",f="pending",m="error",O="success";function x(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),a=Object(o.a)(i,2),j=a[0],h=a[1],x=Object(r.useState)(p),v=Object(o.a)(x,2),g=v[0],E=v[1],I=Object(r.useRef)(),D=function(e){I.current&&I.current.open(e)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{ref:I,onFileLoad:function(e){E(f),e.shift();var t=e.map((function(e){return e.data.map((function(e){return e.trim()}))}));t[0].push("Duplicate with"),h(t[0]);var n=t.map((function(e){return e.join(";")})).join("\n"),r=Object(l.a)(";").parse(n);if(r.reduce((function(e,t){return t["Full Name"]&&t.Phone&&t.Email||(e=!0),e}),!1))E(m);else{var i=r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Phone:(n=e.Phone,10===n.length?"+1"+n:11===n.length&&"1"===n.slice(0,1)?"+"+n:n),Email:e.Email.toLowerCase(),"Yearly Income":Number(e["Yearly Income"]).toFixed(2),"Has children":e["Has children"].toUpperCase(),"License states":(t=e["License states"],t.includes(",")?t.split(",").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.includes("|")?t.split("|").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.includes(" ")?t.split(" ").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t)});var t,n})).map((function(e,t){return Object(s.a)(Object(s.a)({ID:t+1},e),{},{"Duplicate with":[]})}));i.forEach((function(e){var t=e.ID,n=e.Phone,r=e.Email;i.forEach((function(e){e.ID===t||e.Phone!==n&&e.Email!==r||(e["Duplicate with"]=t)}))})),c(i),E(O)}},onError:function(e,t,n,r){console.log(e,t,n,r)},children:function(e){e.file;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{type:"button",onClick:D,children:"Import users"})})}}),g===O&&Object(b.jsx)(d,{data:n,headers:j}),g===m&&Object(b.jsx)("h1",{children:"Error"}),g===f&&Object(b.jsx)("h1",{children:"Loading..."})]})}var v=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(x,{})})};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.88c87199.chunk.js.map