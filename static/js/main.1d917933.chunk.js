(this["webpackJsonpcsv-test"]=this["webpackJsonpcsv-test"]||[]).push([[0],{16:function(e,t,n){e.exports={tableClients:"Table_tableClients__250uo",error:"Table_error__4Mi-2"}},17:function(e,t,n){e.exports={btnLoad:"parse_btnLoad__zwAtY",errorBlock:"parse_errorBlock__19EUx"}},31:function(e,t,n){},32:function(e,t,n){},35:function(e,t){},37:function(e,t){},48:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(24),a=n.n(i),s=(n(31),n(32),n(6)),o=n(9),l=n(25),u=n(50),j=n(16),b=n.n(j),d=n(0);function h(e){var t=e.data,n=e.headers,r=function(e,t){return("Phone"!==e||12===t[e].length&&"+1"===t[e].slice(0,2))&&(!("Email"===e&&!/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/.test(t[e]))&&(!("Age"===e&&(!Number.isInteger(Number(t[e]))||t[e]<21))&&(("Experience"!==e||!(t[e]<0||t[e]>t.Age))&&(!("Yearly Income"===e&&t[e]>1e6)&&(("Has children"!==e||"TRUE"===t[e]||"FALSE"===t[e]||""===t[e])&&(!!("License number"!==e||6===t[e].length&&/^[A-Za-z0-9]+$/.test(t[e]))&&("Expiration date"!==e||!function(e){if(e.includes("-")){var t=e.split("-");if(4===t[0].length)return c(t[0],t[1],t[2])}if(e.includes("/")){var n=e.split("/");if(4===n[2].length)return c(n[2],n[0],n[1])}return!0}(t[e]))))))))};function c(e,t,n){return t>12||t<1||n>31||n<1||!(new Date(e,t-1,n)-Date.now()>0)}return Object(d.jsxs)("table",{className:b.a.tableClients,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"ID"}),n.map((function(e,t){return Object(d.jsx)("th",{children:e},t)}))]})}),Object(d.jsx)("tbody",{children:t.map((function(e){var t=Object.keys(e);return Object(d.jsx)("tr",{children:t.map((function(t,n){return r(t,e)?Object(d.jsx)("td",{children:e[t]},n):Object(d.jsx)("td",{className:b.a.error,children:e[t]},n)}))},e.ID)}))})]})}var p=n(17),f=n.n(p),m="idle",O="pending",x="error",v="success";function g(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),a=Object(o.a)(i,2),j=a[0],b=a[1],p=Object(r.useState)(m),g=Object(o.a)(p,2),E=g[0],_=g[1],I=Object(r.useRef)(),D=function(e){I.current&&I.current.open(e)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.a,{ref:I,onFileLoad:function(e){_(O),e.shift();var t=e.map((function(e){return e.data.map((function(e){return e.trim()}))}));t[0].push("Duplicate with"),b(t[0]);var n=t.map((function(e){return e.join(";")})).join("\n"),r=Object(u.a)(";").parse(n);if(r.reduce((function(e,t){return t["Full Name"]&&t.Phone&&t.Email||(e=!0),e}),!1))_(x);else{var i=r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{Phone:(n=e.Phone,10===n.length?"+1"+n:11===n.length&&"1"===n.slice(0,1)?"+"+n:n),Email:e.Email.toLowerCase(),"Yearly Income":Number(e["Yearly Income"]).toFixed(2),"Has children":e["Has children"].toUpperCase(),"License states":(t=e["License states"],t.includes(",")?t.split(",").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.includes("|")?t.split("|").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t.includes(" ")?t.split(" ").map((function(e){return e.trim().slice(0,2).toUpperCase()})).join(", "):t)});var t,n})).map((function(e,t){return Object(s.a)(Object(s.a)({ID:t+1},e),{},{"Duplicate with":[]})}));i.forEach((function(e){var t=e.ID,n=e.Phone,r=e.Email;i.forEach((function(e){e.ID===t||e.Phone!==n&&e.Email!==r||(e["Duplicate with"]=t)}))})),c(i),_(v)}},onError:function(e,t,n,r){console.log(e,t,n,r)},children:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{type:"button",onClick:D,className:f.a.btnLoad,children:"Import users"})})}}),E===v&&Object(d.jsx)(h,{data:n,headers:j}),E===x&&Object(d.jsx)("div",{className:f.a.errorBlock,children:Object(d.jsx)("h1",{children:"File format is not correct"})}),E===O&&Object(d.jsx)("h1",{children:"Loading..."})]})}var E=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(g,{})})};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.1d917933.chunk.js.map